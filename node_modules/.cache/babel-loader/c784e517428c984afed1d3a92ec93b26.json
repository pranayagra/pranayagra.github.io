{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"C:/Users/prana/OneDrive/Desktop/Misc/officialwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _objectSpread = require(\"C:/Users/prana/OneDrive/Desktop/Misc/officialwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _toConsumableArray = require(\"C:/Users/prana/OneDrive/Desktop/Misc/officialwebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar color = require('tinycolor2');\n\nvar dateFns = require('date-fns');\n\nfunction _interopDefault(e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefault(React);\n\nvar color__default = /*#__PURE__*/_interopDefault(color);\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".styles_calendar__kghkr {\\n  display: block;\\n  max-width: 100%;\\n  height: auto;\\n  overflow: visible;\\n}\\n\\n.styles_calendar__kghkr text {\\n  fill: currentColor;\\n}\\n\\n.styles_block__zu71P {\\n  stroke: rgba(0, 0, 0, 0.1);\\n  stroke-width: 1px;\\n  shape-rendering: geometricPrecision;\\n}\\n\\n.styles_footer__ltlVl {\\n  display: flex;\\n}\\n\\n.styles_legendColors__FYXRi {\\n  margin-left: auto;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.2em;\\n}\\n\\n/*noinspection CssUnresolvedCustomProperty*/\\n@keyframes styles_loadingAnimation__zshgF {\\n  0% {\\n    fill: var(--react-activity-calendar-loading);\\n  }\\n  50% {\\n    fill: var(--react-activity-calendar-loading-active);\\n  }\\n  100% {\\n    fill: var(--react-activity-calendar-loading);\\n  }\\n}\\n\";\nvar styles = {\n  \"calendar\": \"styles_calendar__kghkr\",\n  \"block\": \"styles_block__zu71P\",\n  \"footer\": \"styles_footer__ltlVl\",\n  \"legendColors\": \"styles_legendColors__FYXRi\",\n  \"loadingAnimation\": \"styles_loadingAnimation__zshgF\"\n};\nstyleInject(css_248z);\nvar NAMESPACE = 'react-activity-calendar';\nvar MIN_DISTANCE_MONTH_LABELS = 2;\nvar DEFAULT_THEME = createCalendarTheme('#042a33');\n\nfunction groupByWeeks(days) {\n  var weekStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (days.length === 0) {\n    return [];\n  } // The calendar expects a continuous sequence of days, so fill gaps with empty\n  // activity data.\n\n\n  var normalizedDays = normalizeCalendarDays(days); // Determine the first date of the calendar. If the first contribution date is\n  // not the specified weekday, the desired day one week earlier is selected.\n\n  var firstDate = dateFns.parseISO(normalizedDays[0].date);\n  var firstCalendarDate = dateFns.getDay(firstDate) === weekStart ? firstDate : dateFns.subWeeks(dateFns.nextDay(firstDate, weekStart), 1); // To correctly group contributions by week, it is necessary to left pad the\n  // list because the first date might not be desired weekday.\n\n  var paddedDays = [].concat(_toConsumableArray(Array(dateFns.differenceInCalendarDays(firstDate, firstCalendarDate)).fill(undefined)), _toConsumableArray(normalizedDays));\n  return Array(Math.ceil(paddedDays.length / 7)).fill(undefined).map(function (_, calendarWeek) {\n    return paddedDays.slice(calendarWeek * 7, calendarWeek * 7 + 7);\n  });\n}\n\nfunction normalizeCalendarDays(days) {\n  var daysMap = days.reduce(function (map, day) {\n    map.set(day.date, day);\n    return map;\n  }, new Map());\n  return dateFns.eachDayOfInterval({\n    start: dateFns.parseISO(days[0].date),\n    end: dateFns.parseISO(days[days.length - 1].date)\n  }).map(function (day) {\n    var date = dateFns.formatISO(day, {\n      representation: 'date'\n    });\n\n    if (daysMap.has(date)) {\n      return daysMap.get(date);\n    }\n\n    return {\n      date: date,\n      count: 0,\n      level: 0\n    };\n  });\n}\n\nfunction getMonthLabels(weeks) {\n  var monthNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MONTH_LABELS;\n  return weeks.reduce(function (labels, week, index) {\n    var firstWeekDay = week.find(function (day) {\n      return day !== undefined;\n    });\n\n    if (!firstWeekDay) {\n      throw new Error(\"Unexpected error: Week is empty: [\".concat(week, \"]\"));\n    }\n\n    var month = monthNames[dateFns.getMonth(dateFns.parseISO(firstWeekDay.date))];\n    var prev = labels[labels.length - 1];\n\n    if (index === 0 || prev.text !== month) {\n      return [].concat(_toConsumableArray(labels), [{\n        x: index,\n        y: 0,\n        text: month\n      }]);\n    }\n\n    return labels;\n  }, []).filter(function (label, index, labels) {\n    if (index === 0) {\n      return labels[1] && labels[1].x - label.x > MIN_DISTANCE_MONTH_LABELS;\n    }\n\n    return true;\n  });\n}\n\nfunction createCalendarTheme(baseColor) {\n  var emptyColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : color__default.default('white').darken(8).toHslString();\n  var base = color__default.default(baseColor);\n\n  if (!base.isValid()) {\n    return DEFAULT_THEME;\n  }\n\n  return {\n    level4: base.setAlpha(0.92).toHslString(),\n    level3: base.setAlpha(0.76).toHslString(),\n    level2: base.setAlpha(0.6).toHslString(),\n    level1: base.setAlpha(0.44).toHslString(),\n    level0: emptyColor\n  };\n}\n\nfunction getTheme(theme, color) {\n  if (theme) {\n    return Object.assign({}, DEFAULT_THEME, theme);\n  }\n\n  if (color) {\n    return createCalendarTheme(color);\n  }\n\n  return DEFAULT_THEME;\n}\n\nfunction getClassName(name, styles) {\n  if (styles) {\n    return \"\".concat(NAMESPACE, \"__\").concat(name, \" \").concat(styles);\n  }\n\n  return \"\".concat(NAMESPACE, \"__\").concat(name);\n}\n\nfunction generateEmptyData() {\n  var year = new Date().getFullYear();\n  var days = dateFns.eachDayOfInterval({\n    start: new Date(year, 0, 1),\n    end: new Date(year, 11, 31)\n  });\n  return days.map(function (date) {\n    return {\n      date: dateFns.formatISO(date, {\n        representation: 'date'\n      }),\n      count: 0,\n      level: 0\n    };\n  });\n}\n\nvar DEFAULT_MONTH_LABELS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar DEFAULT_WEEKDAY_LABELS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nvar DEFAULT_LABELS = {\n  months: DEFAULT_MONTH_LABELS,\n  weekdays: DEFAULT_WEEKDAY_LABELS,\n  totalCount: '{{count}} contributions in {{year}}',\n  tooltip: '<strong>{{count}} contributions</strong> on {{date}}',\n  legend: {\n    less: 'Less',\n    more: 'More'\n  }\n};\n\nvar ActivityCalendar = function ActivityCalendar(_ref) {\n  var _data$, _additionalStyles;\n\n  var data = _ref.data,\n      _ref$blockMargin = _ref.blockMargin,\n      blockMargin = _ref$blockMargin === void 0 ? 4 : _ref$blockMargin,\n      _ref$blockRadius = _ref.blockRadius,\n      blockRadius = _ref$blockRadius === void 0 ? 2 : _ref$blockRadius,\n      _ref$blockSize = _ref.blockSize,\n      blockSize = _ref$blockSize === void 0 ? 12 : _ref$blockSize,\n      children = _ref.children,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? undefined : _ref$color,\n      _ref$dateFormat = _ref.dateFormat,\n      dateFormat = _ref$dateFormat === void 0 ? 'MMM do, yyyy' : _ref$dateFormat,\n      _ref$eventHandlers = _ref.eventHandlers,\n      eventHandlers = _ref$eventHandlers === void 0 ? {} : _ref$eventHandlers,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$hideColorLegend = _ref.hideColorLegend,\n      hideColorLegend = _ref$hideColorLegend === void 0 ? false : _ref$hideColorLegend,\n      _ref$hideMonthLabels = _ref.hideMonthLabels,\n      hideMonthLabels = _ref$hideMonthLabels === void 0 ? false : _ref$hideMonthLabels,\n      _ref$hideTotalCount = _ref.hideTotalCount,\n      hideTotalCount = _ref$hideTotalCount === void 0 ? false : _ref$hideTotalCount,\n      labelsProp = _ref.labels,\n      _ref$loading = _ref.loading,\n      loading = _ref$loading === void 0 ? false : _ref$loading,\n      _ref$showWeekdayLabel = _ref.showWeekdayLabels,\n      showWeekdayLabels = _ref$showWeekdayLabel === void 0 ? false : _ref$showWeekdayLabel,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      themeProp = _ref.theme,\n      totalCountProp = _ref.totalCount,\n      _ref$weekStart = _ref.weekStart,\n      weekStart = _ref$weekStart === void 0 ? 0 : _ref$weekStart;\n\n  if (loading) {\n    data = generateEmptyData();\n  }\n\n  if (data.length === 0) {\n    return null;\n  }\n\n  var year = dateFns.getYear(dateFns.parseISO((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.date));\n  var weeks = groupByWeeks(data, weekStart);\n  var totalCount = typeof totalCountProp === 'number' ? totalCountProp : data.reduce(function (sum, day) {\n    return sum + day.count;\n  }, 0);\n  var theme = getTheme(themeProp, color);\n  var labels = Object.assign({}, DEFAULT_LABELS, labelsProp);\n  var textHeight = hideMonthLabels ? 0 : fontSize + 2 * blockMargin;\n\n  function getDimensions() {\n    return {\n      width: weeks.length * (blockSize + blockMargin) - blockMargin,\n      height: textHeight + (blockSize + blockMargin) * 7 - blockMargin\n    };\n  }\n\n  function getTooltipMessage(contribution) {\n    var _labels$tooltip;\n\n    var date = dateFns.format(dateFns.parseISO(contribution.date), dateFormat);\n    var tooltip = (_labels$tooltip = labels.tooltip) !== null && _labels$tooltip !== void 0 ? _labels$tooltip : DEFAULT_LABELS.tooltip;\n    return tooltip.replaceAll('{{count}}', String(contribution.count)).replaceAll('{{date}}', date);\n  }\n\n  function getEventHandlers(data) {\n    return Object.keys(eventHandlers).reduce(function (handlers, key) {\n      return _objectSpread(_objectSpread({}, handlers), {}, _defineProperty({}, key, function (event) {\n        var _eventHandlers$key;\n\n        return (_eventHandlers$key = eventHandlers[key]) === null || _eventHandlers$key === void 0 ? void 0 : _eventHandlers$key.call(eventHandlers, event)(data);\n      }));\n    }, {});\n  }\n\n  function renderLabels() {\n    var style = {\n      fontSize: fontSize\n    };\n\n    if (!showWeekdayLabels && hideMonthLabels) {\n      return null;\n    }\n\n    return /*#__PURE__*/React__default.default.createElement(React__default.default.Fragment, null, showWeekdayLabels && /*#__PURE__*/React__default.default.createElement(\"g\", {\n      className: getClassName('legend-weekday'),\n      style: style\n    }, weeks[0].map(function (day, index) {\n      if (index % 2 === 0) {\n        return null;\n      }\n\n      var dayIndex = (index + weekStart) % 7;\n      return /*#__PURE__*/React__default.default.createElement(\"text\", {\n        x: -2 * blockMargin,\n        y: textHeight + (fontSize / 2 + blockMargin) + (blockSize + blockMargin) * index,\n        textAnchor: \"end\",\n        key: index\n      }, labels.weekdays ? labels.weekdays[dayIndex] : DEFAULT_WEEKDAY_LABELS[dayIndex]);\n    })), !hideMonthLabels && /*#__PURE__*/React__default.default.createElement(\"g\", {\n      className: getClassName('legend-month'),\n      style: style\n    }, getMonthLabels(weeks, labels.months).map(function (_ref2, index, labels) {\n      var text = _ref2.text,\n          x = _ref2.x; // Skip the first month label if there's not enough space to the next one\n\n      if (index === 0 && labels[1] && labels[1].x - x <= MIN_DISTANCE_MONTH_LABELS) {\n        return null;\n      }\n\n      return /*#__PURE__*/React__default.default.createElement(\"text\", {\n        x: (blockSize + blockMargin) * x,\n        alignmentBaseline: \"hanging\",\n        key: x\n      }, text);\n    })));\n  }\n\n  function renderBlocks() {\n    return weeks.map(function (week, weekIndex) {\n      return week.map(function (day, dayIndex) {\n        if (!day) {\n          return null;\n        }\n\n        var style = loading ? {\n          animation: \"\".concat(styles.loadingAnimation, \" 1.5s ease-in-out infinite\"),\n          animationDelay: \"\".concat(weekIndex * 20 + dayIndex * 20, \"ms\")\n        } : undefined;\n        return /*#__PURE__*/React__default.default.createElement(\"rect\", _extends({}, getEventHandlers(day), {\n          x: 0,\n          y: textHeight + (blockSize + blockMargin) * dayIndex,\n          width: blockSize,\n          height: blockSize,\n          fill: theme[\"level\".concat(day.level)],\n          rx: blockRadius,\n          ry: blockRadius,\n          className: styles.block,\n          \"data-date\": day.date,\n          \"data-tip\": children ? getTooltipMessage(day) : undefined,\n          key: day.date,\n          style: style\n        }));\n      });\n    }).map(function (week, x) {\n      return /*#__PURE__*/React__default.default.createElement(\"g\", {\n        key: x,\n        transform: \"translate(\".concat((blockSize + blockMargin) * x, \", 0)\")\n      }, week);\n    });\n  }\n\n  function renderFooter() {\n    var _labels$legend, _labels$legend2;\n\n    var _labels$legend$less, _labels$legend$more;\n\n    if (hideTotalCount && hideColorLegend) {\n      return null;\n    }\n\n    return /*#__PURE__*/React__default.default.createElement(\"footer\", {\n      className: getClassName('footer', styles.footer),\n      style: {\n        marginTop: 2 * blockMargin,\n        fontSize: fontSize\n      }\n    }, loading && /*#__PURE__*/React__default.default.createElement(\"div\", null, \"\\xA0\"), !loading && !hideTotalCount && /*#__PURE__*/React__default.default.createElement(\"div\", {\n      className: getClassName('count')\n    }, labels.totalCount ? labels.totalCount.replace('{{count}}', String(totalCount)).replace('{{year}}', String(year)) : \"\".concat(totalCount, \" contributions in \").concat(year)), !loading && !hideColorLegend && /*#__PURE__*/React__default.default.createElement(\"div\", {\n      className: getClassName('legend-colors', styles.legendColors)\n    }, /*#__PURE__*/React__default.default.createElement(\"span\", {\n      style: {\n        marginRight: '0.4em'\n      }\n    }, (_labels$legend$less = labels === null || labels === void 0 ? void 0 : (_labels$legend = labels.legend) === null || _labels$legend === void 0 ? void 0 : _labels$legend.less) !== null && _labels$legend$less !== void 0 ? _labels$legend$less : 'Less'), Array(5).fill(undefined).map(function (_, index) {\n      return /*#__PURE__*/React__default.default.createElement(\"svg\", {\n        width: blockSize,\n        height: blockSize,\n        key: index\n      }, /*#__PURE__*/React__default.default.createElement(\"rect\", {\n        width: blockSize,\n        height: blockSize,\n        fill: theme[\"level\".concat(index)],\n        rx: blockRadius,\n        ry: blockRadius\n      }));\n    }), /*#__PURE__*/React__default.default.createElement(\"span\", {\n      style: {\n        marginLeft: '0.4em'\n      }\n    }, (_labels$legend$more = labels === null || labels === void 0 ? void 0 : (_labels$legend2 = labels.legend) === null || _labels$legend2 === void 0 ? void 0 : _labels$legend2.more) !== null && _labels$legend$more !== void 0 ? _labels$legend$more : 'More')));\n  }\n\n  var _getDimensions = getDimensions(),\n      width = _getDimensions.width,\n      height = _getDimensions.height;\n\n  var additionalStyles = (_additionalStyles = {\n    maxWidth: width\n  }, _defineProperty(_additionalStyles, \"--\".concat(NAMESPACE, \"-loading\"), theme.level0), _defineProperty(_additionalStyles, \"--\".concat(NAMESPACE, \"-loading-active\"), color__default.default(theme.level0).darken(8).toString()), _additionalStyles);\n  return /*#__PURE__*/React__default.default.createElement(\"article\", {\n    className: NAMESPACE,\n    style: _objectSpread(_objectSpread({}, style), additionalStyles)\n  }, /*#__PURE__*/React__default.default.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 \".concat(width, \" \").concat(height),\n    className: getClassName('calendar', styles.calendar)\n  }, !loading && renderLabels(), renderBlocks()), renderFooter(), children);\n};\n\nvar Skeleton = function Skeleton(props) {\n  return /*#__PURE__*/React__default.default.createElement(ActivityCalendar, _extends({\n    data: []\n  }, props));\n};\n\nexports.Skeleton = Skeleton;\nexports.createCalendarTheme = createCalendarTheme;\nexports.default = ActivityCalendar;","map":{"version":3,"sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/util.ts","../src/component/ActivityCalendar.tsx"],"names":["NAMESPACE","MIN_DISTANCE_MONTH_LABELS","DEFAULT_THEME","createCalendarTheme","groupByWeeks","days","weekStart","length","normalizedDays","normalizeCalendarDays","firstDate","parseISO","date","firstCalendarDate","getDay","subWeeks","nextDay","paddedDays","Array","differenceInCalendarDays","fill","undefined","Math","ceil","map","_","calendarWeek","slice","daysMap","reduce","day","set","Map","eachDayOfInterval","start","end","formatISO","representation","has","get","count","level","getMonthLabels","weeks","monthNames","DEFAULT_MONTH_LABELS","labels","week","index","firstWeekDay","find","Error","month","getMonth","prev","text","x","y","filter","label","baseColor","emptyColor","color","darken","toHslString","base","isValid","level4","setAlpha","level3","level2","level1","level0","getTheme","theme","Object","assign","getClassName","name","styles","generateEmptyData","year","Date","getFullYear","DEFAULT_WEEKDAY_LABELS","DEFAULT_LABELS","months","weekdays","totalCount","tooltip","legend","less","more","ActivityCalendar","data","blockMargin","blockRadius","blockSize","children","dateFormat","eventHandlers","fontSize","hideColorLegend","hideMonthLabels","hideTotalCount","labelsProp","loading","showWeekdayLabels","style","themeProp","totalCountProp","getYear","sum","textHeight","getDimensions","width","height","getTooltipMessage","contribution","format","replaceAll","String","getEventHandlers","keys","handlers","key","event","renderLabels","React","dayIndex","renderBlocks","weekIndex","animation","loadingAnimation","animationDelay","block","renderFooter","footer","marginTop","replace","legendColors","marginRight","marginLeft","additionalStyles","maxWidth","tinycolor","toString","calendar","Skeleton","props"],"mappings":"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","sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import color, { ColorInput } from 'tinycolor2';\nimport {\n  differenceInCalendarDays,\n  eachDayOfInterval,\n  formatISO,\n  getDay,\n  getMonth,\n  nextDay,\n  parseISO,\n  subWeeks,\n} from 'date-fns';\nimport type { Day as WeekDay } from 'date-fns';\n\nimport { Day, Weeks, Theme } from './types';\n\nexport const NAMESPACE = 'react-activity-calendar';\nexport const MIN_DISTANCE_MONTH_LABELS = 2;\n\nconst DEFAULT_THEME = createCalendarTheme('#042a33');\n\ninterface Label {\n  x: number;\n  y: number;\n  text: string;\n}\n\nexport function groupByWeeks(\n  days: Array<Day>,\n  weekStart: WeekDay = 0, // 0 = Sunday\n): Weeks {\n  if (days.length === 0) {\n    return [];\n  }\n\n  // The calendar expects a continuous sequence of days, so fill gaps with empty\n  // activity data.\n  const normalizedDays = normalizeCalendarDays(days);\n\n  // Determine the first date of the calendar. If the first contribution date is\n  // not the specified weekday, the desired day one week earlier is selected.\n  const firstDate = parseISO(normalizedDays[0].date);\n  const firstCalendarDate =\n    getDay(firstDate) === weekStart ? firstDate : subWeeks(nextDay(firstDate, weekStart), 1);\n\n  // To correctly group contributions by week, it is necessary to left pad the\n  // list because the first date might not be desired weekday.\n  const paddedDays = [\n    ...Array(differenceInCalendarDays(firstDate, firstCalendarDate)).fill(undefined),\n    ...normalizedDays,\n  ];\n\n  return Array(Math.ceil(paddedDays.length / 7))\n    .fill(undefined)\n    .map((_, calendarWeek) => paddedDays.slice(calendarWeek * 7, calendarWeek * 7 + 7));\n}\n\nfunction normalizeCalendarDays(days: Array<Day>): Array<Day> {\n  const daysMap = days.reduce((map, day) => {\n    map.set(day.date, day);\n    return map;\n  }, new Map<string, Day>());\n\n  return eachDayOfInterval({\n    start: parseISO(days[0].date),\n    end: parseISO(days[days.length - 1].date),\n  }).map(day => {\n    const date = formatISO(day, { representation: 'date' });\n\n    if (daysMap.has(date)) {\n      return daysMap.get(date) as Day;\n    }\n\n    return {\n      date,\n      count: 0,\n      level: 0,\n    };\n  });\n}\n\nexport function getMonthLabels(\n  weeks: Weeks,\n  monthNames: Array<string> = DEFAULT_MONTH_LABELS,\n): Array<Label> {\n  return weeks\n    .reduce<Array<Label>>((labels, week, index) => {\n      const firstWeekDay = week.find(day => day !== undefined);\n\n      if (!firstWeekDay) {\n        throw new Error(`Unexpected error: Week is empty: [${week}]`);\n      }\n\n      const month = monthNames[getMonth(parseISO(firstWeekDay.date))];\n      const prev = labels[labels.length - 1];\n\n      if (index === 0 || prev.text !== month) {\n        return [\n          ...labels,\n          {\n            x: index,\n            y: 0,\n            text: month,\n          },\n        ];\n      }\n\n      return labels;\n    }, [])\n    .filter((label, index, labels) => {\n      if (index === 0) {\n        return labels[1] && labels[1].x - label.x > MIN_DISTANCE_MONTH_LABELS;\n      }\n\n      return true;\n    });\n}\n\nexport function createCalendarTheme(\n  baseColor: ColorInput,\n  emptyColor = color('white').darken(8).toHslString(),\n): Theme {\n  const base = color(baseColor);\n\n  if (!base.isValid()) {\n    return DEFAULT_THEME;\n  }\n\n  return {\n    level4: base.setAlpha(0.92).toHslString(),\n    level3: base.setAlpha(0.76).toHslString(),\n    level2: base.setAlpha(0.6).toHslString(),\n    level1: base.setAlpha(0.44).toHslString(),\n    level0: emptyColor,\n  };\n}\n\nexport function getTheme(theme?: Theme, color?: ColorInput): Theme {\n  if (theme) {\n    return Object.assign({}, DEFAULT_THEME, theme);\n  }\n\n  if (color) {\n    return createCalendarTheme(color);\n  }\n\n  return DEFAULT_THEME;\n}\n\nexport function getClassName(name: string, styles?: string): string {\n  if (styles) {\n    return `${NAMESPACE}__${name} ${styles}`;\n  }\n\n  return `${NAMESPACE}__${name}`;\n}\n\nexport function generateEmptyData(): Array<Day> {\n  const year = new Date().getFullYear();\n  const days = eachDayOfInterval({\n    start: new Date(year, 0, 1),\n    end: new Date(year, 11, 31),\n  });\n\n  return days.map(date => ({\n    date: formatISO(date, { representation: 'date' }),\n    count: 0,\n    level: 0,\n  }));\n}\n\nexport const DEFAULT_MONTH_LABELS = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nexport const DEFAULT_WEEKDAY_LABELS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport const DEFAULT_LABELS = {\n  months: DEFAULT_MONTH_LABELS,\n  weekdays: DEFAULT_WEEKDAY_LABELS,\n  totalCount: '{{count}} contributions in {{year}}',\n  tooltip: '<strong>{{count}} contributions</strong> on {{date}}',\n  legend: {\n    less: 'Less',\n    more: 'More',\n  },\n};\n","import React, { FunctionComponent, CSSProperties, ReactNode } from 'react';\nimport tinycolor, { ColorInput } from 'tinycolor2';\nimport { format, getYear, parseISO } from 'date-fns';\nimport type { Day as WeekDay } from 'date-fns';\n\nimport styles from './styles.css';\n\nimport { Day, EventHandlerMap, Labels, ReactEvent, SVGRectEventHandler, Theme } from '../types';\nimport {\n  generateEmptyData,\n  getClassName,\n  getMonthLabels,\n  getTheme,\n  groupByWeeks,\n  MIN_DISTANCE_MONTH_LABELS,\n  NAMESPACE,\n  DEFAULT_WEEKDAY_LABELS,\n  DEFAULT_LABELS,\n} from '../util';\n\ntype CalendarData = Array<Day>;\n\nexport interface Props {\n  /**\n   * List of calendar entries. Every `Day` object requires an ISO 8601 `date`\n   * property in the format `yyyy-MM-dd`, a `count` property with the amount\n   * of tracked data and finally a `level` property in the range `0 - 4` to\n   * specify activity intensity.\n   *\n   * Example object:\n   *\n   * ```json\n   * {\n   *   date: \"2021-02-20\",\n   *   count: 16,\n   *   level: 3\n   * }\n   * ```\n   */\n  data: CalendarData;\n  /**\n   * Margin between blocks in pixels.\n   */\n  blockMargin?: number;\n  /**\n   * Border radius of blocks in pixels.\n   */\n  blockRadius?: number;\n  /**\n   * Block size in pixels.\n   */\n  blockSize?: number;\n  /**\n   * Pass `<ReactTooltip html />` as child to show tooltips.\n   */\n  children?: ReactNode;\n  /**\n   * Base color to compute graph intensity hues (the darkest color). Any valid CSS color is accepted\n   */\n  color?: ColorInput;\n  /**\n   * A date-fns/format compatible date string used in tooltips.\n   */\n  dateFormat?: string;\n  /**\n   * Event handlers to register for the SVG `<rect>` elements that are used to render the calendar days. Handler signature: `event => data => void`\n   */\n  eventHandlers?: EventHandlerMap;\n  /**\n   * Font size for text in pixels.\n   */\n  fontSize?: number;\n  /**\n   * Toggle to hide color legend below calendar.\n   */\n  hideColorLegend?: boolean;\n  /**\n   * Toggle to hide month labels above calendar.\n   */\n  hideMonthLabels?: boolean;\n  /**\n   * Toggle to hide total count below calendar.\n   */\n  hideTotalCount?: boolean;\n  /**\n   * Localization strings for all calendar labels.\n   *\n   * - `totalCount` supports the placeholders `{{count}}` and `{{year}}`.\n   * - `tooltip` supports the placeholders `{{count}}` and `{{date}}`.\n   */\n  labels?: Labels;\n  /**\n   * Toggle for loading state. `data` property will be ignored if set.\n   */\n  loading?: boolean;\n  /**\n   * Toggle to show weekday labels left to the calendar.\n   */\n  showWeekdayLabels?: boolean;\n  /**\n   * Style object to pass to component container.\n   */\n  style?: CSSProperties;\n  /**\n   * An object specifying all theme colors explicitly`.\n   */\n  theme?: Theme;\n  /**\n   * Overwrite the total activity count.\n   */\n  totalCount?: number;\n  /**\n   * Index of day to be used as start of week. 0 represents Sunday.\n   */\n  weekStart?: WeekDay;\n}\n\nconst ActivityCalendar: FunctionComponent<Props> = ({\n  data,\n  blockMargin = 4,\n  blockRadius = 2,\n  blockSize = 12,\n  children,\n  color = undefined,\n  dateFormat = 'MMM do, yyyy',\n  eventHandlers = {},\n  fontSize = 14,\n  hideColorLegend = false,\n  hideMonthLabels = false,\n  hideTotalCount = false,\n  labels: labelsProp,\n  loading = false,\n  showWeekdayLabels = false,\n  style = {},\n  theme: themeProp,\n  totalCount: totalCountProp,\n  weekStart = 0, // Sunday\n}: Props) => {\n  if (loading) {\n    data = generateEmptyData();\n  }\n\n  if (data.length === 0) {\n    return null;\n  }\n\n  const year = getYear(parseISO(data[0]?.date));\n  const weeks = groupByWeeks(data, weekStart);\n\n  const totalCount =\n    typeof totalCountProp === 'number'\n      ? totalCountProp\n      : data.reduce((sum, day) => sum + day.count, 0);\n\n  const theme = getTheme(themeProp, color);\n  const labels = Object.assign({}, DEFAULT_LABELS, labelsProp);\n  const textHeight = hideMonthLabels ? 0 : fontSize + 2 * blockMargin;\n\n  function getDimensions() {\n    return {\n      width: weeks.length * (blockSize + blockMargin) - blockMargin,\n      height: textHeight + (blockSize + blockMargin) * 7 - blockMargin,\n    };\n  }\n\n  function getTooltipMessage(contribution: Day) {\n    const date = format(parseISO(contribution.date), dateFormat);\n    const tooltip = labels.tooltip ?? DEFAULT_LABELS.tooltip;\n\n    return tooltip.replaceAll('{{count}}', String(contribution.count)).replaceAll('{{date}}', date);\n  }\n\n  function getEventHandlers(data: Day): SVGRectEventHandler {\n    return (\n      Object.keys(eventHandlers) as Array<keyof SVGRectEventHandler>\n    ).reduce<SVGRectEventHandler>(\n      (handlers, key) => ({\n        ...handlers,\n        [key]: (event: ReactEvent<SVGRectElement>) => eventHandlers[key]?.(event)(data),\n      }),\n      {},\n    );\n  }\n\n  function renderLabels() {\n    const style = {\n      fontSize,\n    };\n\n    if (!showWeekdayLabels && hideMonthLabels) {\n      return null;\n    }\n\n    return (\n      <>\n        {showWeekdayLabels && (\n          <g className={getClassName('legend-weekday')} style={style}>\n            {weeks[0].map((day, index) => {\n              if (index % 2 === 0) {\n                return null;\n              }\n\n              const dayIndex = (index + weekStart) % 7;\n\n              return (\n                <text\n                  x={-2 * blockMargin}\n                  y={textHeight + (fontSize / 2 + blockMargin) + (blockSize + blockMargin) * index}\n                  textAnchor=\"end\"\n                  key={index}\n                >\n                  {labels.weekdays ? labels.weekdays[dayIndex] : DEFAULT_WEEKDAY_LABELS[dayIndex]}\n                </text>\n              );\n            })}\n          </g>\n        )}\n        {!hideMonthLabels && (\n          <g className={getClassName('legend-month')} style={style}>\n            {getMonthLabels(weeks, labels.months).map(({ text, x }, index, labels) => {\n              // Skip the first month label if there's not enough space to the next one\n              if (index === 0 && labels[1] && labels[1].x - x <= MIN_DISTANCE_MONTH_LABELS) {\n                return null;\n              }\n\n              return (\n                <text x={(blockSize + blockMargin) * x} alignmentBaseline=\"hanging\" key={x}>\n                  {text}\n                </text>\n              );\n            })}\n          </g>\n        )}\n      </>\n    );\n  }\n\n  function renderBlocks() {\n    return weeks\n      .map((week, weekIndex) =>\n        week.map((day, dayIndex) => {\n          if (!day) {\n            return null;\n          }\n\n          const style = loading\n            ? {\n                animation: `${styles.loadingAnimation} 1.5s ease-in-out infinite`,\n                animationDelay: `${weekIndex * 20 + dayIndex * 20}ms`,\n              }\n            : undefined;\n\n          return (\n            <rect\n              {...getEventHandlers(day)}\n              x={0}\n              y={textHeight + (blockSize + blockMargin) * dayIndex}\n              width={blockSize}\n              height={blockSize}\n              fill={theme[`level${day.level}` as keyof Theme]}\n              rx={blockRadius}\n              ry={blockRadius}\n              className={styles.block}\n              data-date={day.date}\n              data-tip={children ? getTooltipMessage(day) : undefined}\n              key={day.date}\n              style={style}\n            />\n          );\n        }),\n      )\n      .map((week, x) => (\n        <g key={x} transform={`translate(${(blockSize + blockMargin) * x}, 0)`}>\n          {week}\n        </g>\n      ));\n  }\n\n  function renderFooter() {\n    if (hideTotalCount && hideColorLegend) {\n      return null;\n    }\n\n    return (\n      <footer\n        className={getClassName('footer', styles.footer)}\n        style={{ marginTop: 2 * blockMargin, fontSize }}\n      >\n        {/* Placeholder */}\n        {loading && <div>&nbsp;</div>}\n\n        {!loading && !hideTotalCount && (\n          <div className={getClassName('count')}>\n            {labels.totalCount\n              ? labels.totalCount\n                  .replace('{{count}}', String(totalCount))\n                  .replace('{{year}}', String(year))\n              : `${totalCount} contributions in ${year}`}\n          </div>\n        )}\n\n        {!loading && !hideColorLegend && (\n          <div className={getClassName('legend-colors', styles.legendColors)}>\n            <span style={{ marginRight: '0.4em' }}>{labels?.legend?.less ?? 'Less'}</span>\n            {Array(5)\n              .fill(undefined)\n              .map((_, index) => (\n                <svg width={blockSize} height={blockSize} key={index}>\n                  <rect\n                    width={blockSize}\n                    height={blockSize}\n                    fill={theme[`level${index}` as keyof Theme]}\n                    rx={blockRadius}\n                    ry={blockRadius}\n                  />\n                </svg>\n              ))}\n            <span style={{ marginLeft: '0.4em' }}>{labels?.legend?.more ?? 'More'}</span>\n          </div>\n        )}\n      </footer>\n    );\n  }\n\n  const { width, height } = getDimensions();\n  const additionalStyles = {\n    maxWidth: width,\n    // Required for correct colors in CSS loading animation\n    [`--${NAMESPACE}-loading`]: theme.level0,\n    [`--${NAMESPACE}-loading-active`]: tinycolor(theme.level0).darken(8).toString(),\n  };\n\n  return (\n    <article className={NAMESPACE} style={{ ...style, ...additionalStyles }}>\n      <svg\n        width={width}\n        height={height}\n        viewBox={`0 0 ${width} ${height}`}\n        className={getClassName('calendar', styles.calendar)}\n      >\n        {!loading && renderLabels()}\n        {renderBlocks()}\n      </svg>\n      {renderFooter()}\n      {children}\n    </article>\n  );\n};\n\nexport const Skeleton: FunctionComponent<Omit<Props, 'data'>> = props => (\n  <ActivityCalendar data={[]} {...props} />\n);\n\nexport default ActivityCalendar;\n"]},"metadata":{},"sourceType":"script"}